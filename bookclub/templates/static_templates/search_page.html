{% extends 'base_content.html' %}
{% load bootstrap_pagination %}
{% block title %}
| Results 
{% endblock %}
{% block content %}


<div class="container mt-4">
    <div class="row">
        <div class="col-12">
           {% if searched and category %}
           <h1> You searched for {{searched}} in {{category}}</h1>
             {% if filtered_list %}
                <div class = "col - 12">
                     <form class="d-flex" method=GET action= "{% url 'show_sorted' searched=searched label=label %}" id = "sortForm" > 
                          &emsp;
                        {% include 'partials/bootstrap_form.html' with form=form %}
                        <button class="mt-2 ms-2 btn btn-outline-dark " type="submit" style="color: light-grey;">Sort</button>
                    </form>
                </div>
                <br/>
                    {% if category == "Users" %}
                    {%include 'partials/users_information_table.html' with Users=filtered_list current_user=request.user %}
                    {% endif %}

                    {% if category == "Clubs" %}
                    {%include 'partials/clubs_information_table.html' with Clubs=filtered_list %}
                    {% endif %}

                    {% if category == "Books" %}
                    {%include 'partials/books_information_table.html' with Books=filtered_list %}
                    {% endif %}
                    <ul class="pagination justify-content-center">
                        {% bootstrap_paginate filtered_list show_prev_next="false"  show_first_last="true" range=5  %}
                    </ul>
                {%else %}
                    <h2> no such information!</h2>
                {% endif %}

           {%else %}
           <h2> You forgot to search!</h2>
           {% endif %}
        </div>
    </div>
</div>
{% endblock %}