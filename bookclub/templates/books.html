{% extends 'base_content.html' %}
{% load static %}
{% load bootstrap_pagination %}
{% block title %}Books{% endblock %}
{% block content %}
  
<h1 class="fw-light center" style="text-align: center; background-color:#74a5b4; color:dark-gray">Books</h1>
<div class="carousel-inner" style="top: -8px;">
  <div class="carousel-item active">
    <img class="bd-placeholder-img" width="1400" height="600"  aria-hidden="true" focusable="false"> <rect width="100%" height="100%" fill="#5d486e"/> 
    <image src="{% static '/images/book_page.png' %}" width="1400" height="620"  style = "position:relative; left:0px; bottom:30px;" /> </img>
    <div class="container row py-lg-1" style = "position:relative; right:90px; bottom:220px;">
      <div class="carousel-caption">
          <div class="col-sm-10 col-md-3 col-lg-7">
            <h1 style="color: #000000; font-size: 2.8rem" class="fw-light center">Add your favourite books.</h1>
            <p><a class="btn btn-lg btn-outline-dark fw-light center mt-2" href='{% url 'add_book' %}'>Add Book</a></p>
          </div>
      </div>
    </div>
  </div>
</div>

{% if general %}
  <div class="container">
    <div class="row py-lg-5">
      <div class="col-lg-6 col-md-8 mx-auto">
        <p class="lead text-muted" style="text-align: center">Explore The ordinariesâ€™s ever-expanding collection of book of different categories and genres. Find your next great adventure!</p>
      </div>
    </div>
  </div>
 {% endif %}

<div class="container">
  {% if count == 0 %}
    {% if general %}
      <div style="text-align: center;   padding-top: 50px;">
        <h4 class="lead ">There are no books, want to add one?</h4>
        <a href={% url 'add_book' %} class="btn my-2 btn-outline-secondary">Add a book</a>
      </div>
    {% else %}
      <div style="text-align: center;   padding-top: 50px;">
        <h4 class="lead ">The book list is empty! find more book you might like.</h4>
        <a href='/books' class="btn my-2 btn-outline-secondary">More books</a>
      </div>
    {% endif %}
            
  {% else %}
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      {% for book in books %}
        <div class="col">
          <div style="text-align: center;">
            <img src= "{{ book.image_url }}"  width="220" height="300" class=" image-thumbnail mb-3" />
            <h2 style="overflow: hidden;white-space: nowrap; text-overflow: ellipsis;">{{ book.title }}</h2>
            <p >{{ book.author }}</p>
            <a href='{% url 'book_details' book.id %}' class="btn my-2 btn-outline-secondary">View</a>
          </div>
        </div>
      {% endfor %}
    </div>
    <ul class="pagination justify-content-center">
      {% bootstrap_paginate books show_prev_next="false"  show_first_last="true" range=5  %}
    </ul>
  {% endif %}
</div>

 
{% endblock %}


